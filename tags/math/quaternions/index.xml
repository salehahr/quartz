<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>math/quaternions on Zettelkasten</title><link>https://salehahr.github.io/zettelkasten/tags/math/quaternions/</link><description>Recent content in math/quaternions on Zettelkasten</description><generator>Hugo -- gohugo.io</generator><language>en-uk</language><atom:link href="https://salehahr.github.io/zettelkasten/tags/math/quaternions/index.xml" rel="self" type="application/rss+xml"/><item><title>Quaternion double cover</title><link>https://salehahr.github.io/zettelkasten/rotations/quaternion-double-cover/</link><pubDate>Thu, 30 Sep 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/rotations/quaternion-double-cover/</guid><description>Parent: Quaternion index Source: Solà 2017 $$ \mathbf{q} = \left[ \begin{array}{c} q_w\ \mathbf{q}_v \end{array} \right] = \left[ \begin{array}{c} \cos\frac{\phi}{2} \ \mathbf{u} \sin\frac{\phi}{2} \end{array} \right] $$ where $\phi$ is the angle rotated by $\mathbf{q}$ on objects in the 3D space $\mathbb{R}^3$.
Recap $\theta$ is the angle in quaternion space $\phi$ as the angle in 3D space $\mathbb{R}^3$ Therefore, the angle is halved in quaternion space. $$\theta = \phi / 2$$</description></item><item><title>Baumgarte stabilisation over the SO(3) rotation group for control</title><link>https://salehahr.github.io/zettelkasten/studienarbeit/baumgarte-stabilisation-over-the-so-3-rotation-group-for-control/</link><pubDate>Wed, 18 Aug 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/studienarbeit/baumgarte-stabilisation-over-the-so-3-rotation-group-for-control/</guid><description>Author: Sebastien Gros</description></item><item><title>50.4.1 Additive quaternion filtering</title><link>https://salehahr.github.io/zettelkasten/studienarbeit/50.4.1-additive-quaternion-filtering/</link><pubDate>Tue, 17 Aug 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/studienarbeit/50.4.1-additive-quaternion-filtering/</guid><description>Parents: Quaternion index , which orientation parametrisation to-choose? Source: Markley 2014 Additive quaternion filtering Additive quaternion error Methods of enforcing the normalisation Renormalise the estimate by brute force Modify KF update equations to enforce a norm constraint using a Lagrange multiplier
[1] and [2] yield biased estimates of the quaternion
Methods that don&amp;rsquo;t enforce normalisation Define the rotation matrix to be guarantees orthogonality introduces unobservable DOF: the quaternion norm Use the above equation without the ||q||-2 factor &amp;ndash;&amp;gt; no orthogonality</description></item><item><title>Gibbs / Rodrigues parameter representation for rotations</title><link>https://salehahr.github.io/zettelkasten/rotations/gibbs-rodrigues-parameter/</link><pubDate>Tue, 17 Aug 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/rotations/gibbs-rodrigues-parameter/</guid><description>Parent: Orientation parametrisations See also: Rotation error representation Source: Markley 2014 From unit quaternions : From euler-axis-angle-representation : To unit quaternions :   Plane of the figure contains identity quaternion , origin The circle is a cross section of the quaternion sphere S^3 The upper horizontal axis is the 3D Gibbs vector hyperplane (tangent at the identity quaternion) [+] q and -q map to the same Gibbs vector, therefore there is a 1:1 mapping of rotations between quaternions and the Gibbs parameter [-] the Gibbs vector is infinite for 180 degree rotations (q.</description></item><item><title>Quaternion to rotation matrix</title><link>https://salehahr.github.io/zettelkasten/rotations/quaternion-to-rotation-matrix/</link><pubDate>Tue, 17 Aug 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/rotations/quaternion-to-rotation-matrix/</guid><description>Parents: quaternion-index , rotations-so3-group-index See also: orientation-parametrisations Source: Markley 2014 s. quaternion double cover for a non-explanation on why the angle is halved</description></item><item><title>Rotation error representation</title><link>https://salehahr.github.io/zettelkasten/rotations/rotation-error-representation/</link><pubDate>Tue, 17 Aug 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/rotations/rotation-error-representation/</guid><description>Parents: rotations-so3-group-index , quaternion-index See also: Orientation parametrisations , which orientation parametrisation to-choose? Source: Markley 2014 Note:
Only for small angle approximations! all these representations are equivalent through second order as In terms of&amp;hellip;
Rotation vector Quaternion s. also quaternion-double-cover Euler angles Use upper sign if {i,j,k} even permutation of {1,2,3}, lower sign otherwise
gibbs-rodrigues-parameter . MRPs. etc.</description></item><item><title>Whampsey MEKF</title><link>https://salehahr.github.io/zettelkasten/studienarbeit/whampsey-mekf/</link><pubDate>Sat, 14 Aug 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/studienarbeit/whampsey-mekf/</guid><description>Source: http://matthewhampsey.github.io/blog/2020/07/18/mekf
Motivation Working with noisy IMU measurements IMUs usually provide redundant information that can be used to improve dead-reckoning Uses: Hamilton quaternion convention .
Which orientation parametrisation to choose? 50.5-error-state-kalman-filter</description></item><item><title>Exponential map</title><link>https://salehahr.github.io/zettelkasten/rotations/exponential-map/</link><pubDate>Fri, 23 Jul 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/rotations/exponential-map/</guid><description>Parents: Quaternion index , Rotations / SO(3) group index Notation Variables $$\begin{alignedat}{3} &amp;amp;\phi &amp;amp;&amp;amp;\in \mathbb{R}^3\
&amp;amp;\phi^\wedge &amp;amp;&amp;amp;\in \mathfrak{so}(3)\
&amp;amp;\mathbf{R} &amp;amp;&amp;amp;\in \text{SO}(3)\
\end{alignedat}$$
Functions $$\begin{alignedat}{3} \text{(skew) } \wedge &amp;amp;:&amp;amp; \mathbb{R}^3 &amp;amp;&amp;amp;\rightarrow \mathfrak{so}(3) &amp;amp;\
\exp &amp;amp;:&amp;amp; ~&amp;amp;&amp;amp;\mathfrak{so}(3) &amp;amp;\rightarrow \text{SO}(3)\
\text{Exp} &amp;amp;:&amp;amp; ~\mathbb{R}^3 &amp;amp;&amp;amp; &amp;amp;\rightarrow \text{SO}(3) \end{alignedat}$$
Thus, $$\begin{alignedat}{3} &amp;amp;\exp(\phi^\wedge) = \text{Exp}(\phi) = \mathbf{R} \end{alignedat}$$
Source: Forster 2017 IMU Preintegration At the identity Maps an element of the Lie algebra ($\phi^\wedge \in \mathfrak{so}(3)$, a skew symmetric matrix) to a rotation First order approximation $$ \exp(\phi^\wedge) \approx \mathbf{I} + \phi^\wedge$$</description></item><item><title>Logarithm map</title><link>https://salehahr.github.io/zettelkasten/rotations/logarithm-map/</link><pubDate>Fri, 23 Jul 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/rotations/logarithm-map/</guid><description>Parents: Quaternion index , rotations / so(3) group-index Backlinks: Linearisation of an orientation in SO(3) Source: Forster 2017 IMU Preintegration Maps a rotation matrix $R$ in SO(3) to a skew-symmetric matrix ( Lie algebra ) Perturbations, first order approximation S. Forster [2015] suppplementary material for the inverse Jacobian
Source: MKok 2017 Approximations for small perturbations</description></item><item><title>50.5.1.1 States of the ESKF for estimating IMU pose</title><link>https://salehahr.github.io/zettelkasten/studienarbeit/50.5.1.1-states-of-the-eskf-for-estimating-imu-pose/</link><pubDate>Tue, 18 May 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/studienarbeit/50.5.1.1-states-of-the-eskf-for-estimating-imu-pose/</guid><description>Parent: IMU index Source: Solà 2017 Quaternion kinematics for ESKF Full state Vector with 19 elements The corresponding kinematics equations/motion model is given in IMU kinematic equations/motion model .
Notes The angular error in 3D space is given by the notation $\delta\mathbf{\theta}$. In quaternion space, this angle is halved, with $\delta\mathbf{q} = \exp (\delta\mathbf{\theta}/2 )$
( double cover , s. unit-quaternions , rotation-error-representation )
The angular error $\delta\mathbf{\theta}$ is defined locally w.</description></item><item><title>Identity quaternion</title><link>https://salehahr.github.io/zettelkasten/rotations/identity-quaternion/</link><pubDate>Fri, 14 May 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/rotations/identity-quaternion/</guid><description>Parent: Quaternion index Source: Solà 2017 $$\mathbf{q}_I = 1 = \left[ \begin{array}{c} 1\ \mathbf{0}_3 \end{array} \right]$$
$$\mathbf{q}_I \otimes \mathbf{q} = \mathbf{q} \otimes \mathbf{q}_I = \mathbf{q}$$</description></item><item><title>Inverse quaternion</title><link>https://salehahr.github.io/zettelkasten/studienarbeit/inverse-quaternion/</link><pubDate>Fri, 14 May 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/studienarbeit/inverse-quaternion/</guid><description>Parent: Quaternion index Source: Solà 2017 Quaternion kinematics for ESKF The inverse is the conjugate in case of unit quaternions</description></item><item><title>Quaternion conventions</title><link>https://salehahr.github.io/zettelkasten/studienarbeit/quaternion-conventions/</link><pubDate>Fri, 14 May 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/studienarbeit/quaternion-conventions/</guid><description>Parent: Quaternion index Source: Solà 2017 Quaternion kinematics for ESKF Source: [ Wikipedia ], markley-2014 For quaternion multiplication : change the order to transform between conventions Hamilton Shuster Transpose of the Hamiltonian version</description></item><item><title>Quaternion differentiation</title><link>https://salehahr.github.io/zettelkasten/studienarbeit/quaternion-differentiation/</link><pubDate>Fri, 14 May 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/studienarbeit/quaternion-differentiation/</guid><description>Parent: Quaternion index Source: J. D. Hol — Sensor fusion and calibration of inertial sensors, vision, ultra-wideband and GPS
Using the identities: http://math.stackexchange.com/questions/189185/quaternion-differentiation Numerical differentiation (Euler)
http://math.stackexchange.com/questions/1896379/how-to-use-the-quaternion-derivative
$$ \begin{aligned} q(t+dt) &amp;amp;= q(t) \otimes dq\
\dfrac{dq}{dt} &amp;amp;= \frac{1}{2} \omega \otimes q \quad \text{with } \omega = \left[ \begin{array}{cccc} 0 &amp;amp; \omega_x &amp;amp; \omega_y &amp;amp; \omega_z \end{array} \right]^\text{T} \end{aligned}$$
Integrating this, assuming $\omega=\text{const.}$ from $t_0$ to $t_0 + dt$: $$ \begin{aligned} q(t) &amp;amp;= q(t_0) \exp \left( \frac{1}{2} \omega \cdot \left( t - t_0\right) \right)\</description></item><item><title>Quaternion index</title><link>https://salehahr.github.io/zettelkasten/rotations/quaternion-index/</link><pubDate>Fri, 14 May 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/rotations/quaternion-index/</guid><description>Notation Quaternion conventions Basic math/properties Quaternion multiplication Identity quaternion Quaternion conjugate Quaternion norm Inverse quaternion Unit quaternions Double cover Calculus Quaternion differentiation As rotation rotations-so3-group-index exponential-map logarithm-map orientation-parametrisations Which-orientation-parametrisation linearisation-of-an-orientation-in-so-3 Quaternion to rotation matrix Rotation error representation For filtering Additive-quaternion-filtering Multiplicative-quaternion-filtering-mekf Literature Solà 2017 Quaternion kinematics for ESKF MKok 2017 Using inertial sensors for position and orientation estimation</description></item><item><title>Quaternion multiplication</title><link>https://salehahr.github.io/zettelkasten/rotations/quaternion-multiplication/</link><pubDate>Fri, 14 May 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/rotations/quaternion-multiplication/</guid><description>Parent: Quaternion index Source: Solà 2017 Quaternion kinematics for ESKF Here: Hamiltonian convention, s. Quaternion conventions Non-commutative  Associative  Distributive Multiplication as a matrix product With
the matrices the skew operator (skew symmetric matrix) s. also cross product Source: Markley 2014 with the matrices</description></item><item><title>Quaternion norm</title><link>https://salehahr.github.io/zettelkasten/studienarbeit/quaternion-norm/</link><pubDate>Fri, 14 May 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/studienarbeit/quaternion-norm/</guid><description>Parent: Quaternion index Source: Solà 2017 Quaternion kinematics for ESKF With the property</description></item><item><title>Unit quaternions</title><link>https://salehahr.github.io/zettelkasten/rotations/unit-quaternions/</link><pubDate>Fri, 14 May 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/rotations/unit-quaternions/</guid><description>Parent: Quaternion index , orientation-parametrisations See also: quaternion-conventions , quaternion double cover Source: Solà 2017 Properties $$ \begin{aligned} \left\lVert \mathbf{q} \right\rVert &amp;amp;= 1\
\mathbf{q}^{-1} &amp;amp;= \mathbf{q}^* \end{aligned} $$
Can be written in the form $$ \mathbf{q} = \left[ \begin{array}{c} \cos\theta \ \mathbf{u} \sin\theta \end{array} \right] $$
with
$\mathbf{u}$ as a unit vector $\theta$ is the angle between $\mathbf{q}$ and the identity quaternion $\mathbf{q}_I = \left[\begin{array}{cccc}1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0\end{array}\right]^\text{T}$</description></item><item><title>Quaternion conjugate</title><link>https://salehahr.github.io/zettelkasten/studienarbeit/quaternion-conjugate/</link><pubDate>Wed, 05 May 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/studienarbeit/quaternion-conjugate/</guid><description>Parent: Quaternion index Source: http://en.wikipedia.org/wiki/Quaternion
Flip signs of vector part
Source: Solà 2017 Quaternion kinematics for ESKF Multiplying with own conjugate (scalar!)
Conjugate operation on quaternion products</description></item><item><title>note quaternions</title><link>https://salehahr.github.io/zettelkasten/studienarbeit/note-quaternions/</link><pubDate>Wed, 31 Mar 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/studienarbeit/note-quaternions/</guid><description>Converting from quaternion to angular velocity then back to quaternion http://math.stackexchange.com/questions/2282938/converting-from-quaternion-to-angular-velocity-then-back-to-quaternion</description></item><item><title>Linearisation of an orientation in SO(3)</title><link>https://salehahr.github.io/zettelkasten/studienarbeit/linearisation-of-an-orientation-in-so-3/</link><pubDate>Tue, 23 Mar 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/studienarbeit/linearisation-of-an-orientation-in-so-3/</guid><description>Parents: Rotations / SO(3) group index , Quaternion index , orientation-parametrisations Source: MKok 2017 Rotation of a vector in SO(3)
The SO(3) group is a Lie group , so there exists an exponential map from a corresponding Lie algebra to the SO(3) group a reverse logarithm map Possible to represent orientations using unit quaternions or rotation matrices in SO(3) — linearisation point orientation deviations $\eta_t$ I think this is a global representation</description></item><item><title>Orientation parametrisations</title><link>https://salehahr.github.io/zettelkasten/studienarbeit/orientation-parametrisations/</link><pubDate>Tue, 23 Mar 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/studienarbeit/orientation-parametrisations/</guid><description>Parents: rotations-so3-group-index , quaternion index , probabilistic models-for-imu See also: Rotation error representation Source: MKok 2017 , markley-2014 Orientation parametrisations
Note: CCW rotation of a vector $x_v$ to $x_u$ corresponds to a CW rotation of the CS $v$ to CS $u$ (see also active/passive transformations ). Rotations are a member of SO(3) rotation matrix unique description of orientation Euler axis/angle Rotation vector not unique, due to wrapping Euler angles not unique, due to wrapping and gimbal lock Unit quaternions not unique, -q and q depict the same orientationProof: http://math.</description></item><item><title>On quaternions and rotation matrices</title><link>https://salehahr.github.io/zettelkasten/studienarbeit/on-quaternions-and-rotation-matrices/</link><pubDate>Mon, 15 Mar 2021 00:00:00 +0000</pubDate><guid>https://salehahr.github.io/zettelkasten/studienarbeit/on-quaternions-and-rotation-matrices/</guid><description>http://stackoverflow.com/questions/8919086/why-are-quaternions-used-for-rotations
It&amp;rsquo;s worth bearing in mind that all the properties related to rotation are not truly properties of Quaternions: they&amp;rsquo;re properties of Euler-Rodrigues Parameterisations, which is the actual 4-element structure used to describe a 3D rotation. Their relationship to Quaternions is purely due to a paper by Cayley, &amp;ldquo;On certain results related to Quaternions&amp;rdquo;, where the author observes the correlation between Quaternion multiplication and combination of Euler-Rodrigues parameterisations. This enabled aspects of Quaternion theory to be applied to the representation of rotations and especially to interpolating between them.</description></item></channel></rss>